<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Shipment</title>
    <link rel="icon" href="/static/logo.png" type="image/icon type">
    
    <link rel="stylesheet" href="/static/css/newshipment.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
    <div class="main">
        <div class="navbar">
            <nav class='sidebar sidebar-menu-collapsed'>
                <div class="icon">
                    <h2 class="logo">SCMxpert</h2>
                </div>
                <ul>
                    <li><a href="http://127.0.0.1:8000/dashboard">Dashboard</a></li>
                    <li><a href="http://127.0.0.1:8000/myshipment">My Shipments</a></li>
                    <li class="active"><a>New Shipment</a></li>
                    <li><a href="http://127.0.0.1:8000/myaccount">My Account</a></li>
                    <li><a href="#" onclick="logout()">Logout</a></li>
            </nav>
        </div>

        <div class="container">
            <div id="error-message" class="error-message" style="visibility: hidden;"></div>

            <form id="myForm" action="">
                <h1>New Shipment</h1>
                {% if error_message %}
                <div class="error-message">
                    <p>{{ error_message }}</p>
                </div>
                {% endif %}
                <div class="fields">
                    <div class="input-field">
                        <label>Shipment Number</label>
                        <input type="number" id="shipment_num" required pattern="\d{7}" oninput="validateInput(this)">
                    </div>
                    <div class="input-field">
                        <label>Container Number</label>
                        <input type="number" id="container_num" required>
                    </div>
                </div>
                <div class="fields">
                    <div class="input-field">
                        <label>Route Details</label>

                        <select name="" id="route_details">
                            <option>Select Route Details</option>
                            <option value="Tirupati">Tirupati</option>
                            <option value="Hyderabad">Hyderabad</option>
                            <option value="Bangalore">Bangalore</option>
                        </select>
                    </div>
                    <div class="input-field">
                        <label>Goods Type</label>

                        <select name="" id="goods_type">
                            <option>Select Goods Type</option>
                            <option value="IoT">IoT</option>
                            <option value="Electrical">Electrical</option>
                            <option value="Hardware">Hardware</option>
                        </select>
                    </div>
                </div>
                <div class="fields">
                    <div class="input-field">
                        <label>Device</label>

                        <select name="" id="device">
                            <option>Select Device</option>
                            <option value="678">678</option>
                            <option value="679">679</option>
                            <option value="680">680</option>
                        </select>
                    </div>
                    <div class="input-field">
                        <label>Expected Delivery Date</label>
                        <input type="date" id="expected_delivery_date" required>
                    </div>
                </div>
                <div class="fields">
                    <div class="input-field">
                        <label>PO Number</label>
                        <input type="number" id="po_num" required>
                    </div>
                    <div class="input-field">
                        <label>Delivery Number</label>
                        <input type="number" id="delivery_num" required>
                    </div>
                </div>
                <div class="fields">
                    <div class="input-field">
                        <label>NDC Number</label>
                        <input type="number" id="ndc_num" required>
                    </div>
                    <div class="input-field">
                        <label>Batch ID</label>
                        <input type="number" id="batch_id" required>
                    </div>
                </div>
                <div class="fields">
                    <div class="input-field">
                        <label>Serial Number Of Goods</label>
                        <input type="number" id="serial_num" required>
                    </div>
                    <div class="input-field">
                        <label>Shipment Description</label>
                        <input type="text" id="description" required>
                    </div>
                </div>
                <div class="form-row clear-btn">

                    <input type="reset" value="Clear">

                    <input href="http://127.0.0.1:8000/newshipment" type="submit" id="submit" value="Submit">
                </div>
        </div>
    </div>
    <p id="value" style="display: none;">{{token}}</p>
    <script>
        function logout() {
            // Clear user-related data from localStorage
            localStorage.removeItem("token");
            sessionStorage.removeItem("username");
            sessionStorage.removeItem("email");
            sessionStorage.removeItem("role");

            // Redirect to the login page or any other desired destination
            window.location.href = "/login";
        }
        function validateInput(input) {
            // Remove non-digit characters
            let inputValue = input.value.replace(/\D/g, '');
            // Limit the input to 7 digits
            inputValue = inputValue.substring(0, 7);
            // Update the input value
            input.value = inputValue;
            
        }
    </script>

</body>

<script src="../static/js/newshipment.js"></script>

</html>